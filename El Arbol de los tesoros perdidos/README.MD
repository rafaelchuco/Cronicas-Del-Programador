# ğŸ´â€â˜ ï¸âš“ LA LEYENDA DEL ÃRBOL DEL TESORO PERDIDO âš“ğŸ´â€â˜ ï¸

*Una Ã©pica aventura en los Siete Mares Digitales donde los datos navegan como corsarios*

---

## ğŸ—ºï¸ PRÃ“LOGO: EL MAPA DEL CÃ“DIGO PERDIDO ğŸ—ºï¸

En las aguas traicioneras del **Mar de los Algoritmos**, donde las estructuras de datos surcan las olas como barcos fantasma y los bucles infinitos devoran a los navegantes incautos, se cuenta la leyenda del **Ãrbol del Tesoro Perdido** ğŸŒ´ğŸ’°. 

Este no es un Ã¡rbol comÃºn, sino un **mapa viviente** que organiza los tesoros mÃ¡s valiosos del ocÃ©ano digital, donde cada nodo es un **corsario guardiÃ¡n** que protege cofres llenos de valores dorados...

---

## âš“ CAPÃTULO I: LA TRIPULACIÃ“N DE LOS NODOS CORSARIOS âš“

### *El Reclutamiento de los TreeNode Piratas*

En el puerto mÃ¡s peligroso del Caribe Digital, el **CapitÃ¡n Constructor** recluta a sus primeros corsarios:

```python
class TreeNode:
    def __init__(self, value):
        self.value = value        # ğŸ’° El cofre del tesoro personal
        self.left = None          # â¬…ï¸ Ruta hacia la Isla de los Menores
        self.right = None         # â¡ï¸ Sendero a la BahÃ­a de los Mayores
```

ğŸ´â€â˜ ï¸ **Secretos del Corsario**: Cada `TreeNode` es un **Pirata GuardiÃ¡n** que posee:
- **ğŸ’° Value**: Su cofre personal lleno de monedas doradas
- **â¬…ï¸ Left**: El mapa hacia la **Isla de los Tesoros Menores** (valores mÃ¡s pequeÃ±os)
- **â¡ï¸ Right**: La brÃºjula hacia la **BahÃ­a de los Tesoros Mayores** (valores mÃ¡s grandes)

---

## ğŸ´â€â˜ ï¸ CAPÃTULO II: EL CAPITÃN DEL ÃRBOL PIRATA ğŸ´â€â˜ ï¸

### *La CoronaciÃ³n del BinarySearchTree como Rey de los Mares*

De las profundidades del ocÃ©ano emerge el legendario **CapitÃ¡n BinarySearchTree**:

```python
class BinarySearchTree:
    def __init__(self):
        self.root = None  # ğŸŒ´ La isla principal donde comenzÃ³ todo
```

âš”ï¸ **La Ley del Mar**: El `BinarySearchTree` es el **CapitÃ¡n Supremo** que mantiene el orden en alta mar:
- Los tesoros menores navegan hacia **babor** (izquierda) â¬…ï¸
- Los tesoros mayores surcan hacia **estribor** (derecha) â¡ï¸
- Â¡Cualquier pirata que desobedezca esta ley camina por la plancha! ğŸª¦

---

## âš”ï¸ CAPÃTULO III: EL ABORDAJE Y RECLUTAMIENTO DE NUEVOS PIRATAS âš”ï¸

### *La Estrategia de InserciÃ³n Naval*

El CapitÃ¡n ejecuta su tÃ¡ctica maestra para reclutar nuevos corsarios:

```python
def insert(self, value):
    if self.root is None:
        self.root = TreeNode(value)  # ğŸŒ´ La primera isla se convierte en base
    else:
        self._insert_recursive(self.root, value)  # ğŸŒŠ NavegaciÃ³n recursiva
```

ğŸ—ºï¸ **TÃ¡ctica Revelada**: 
- Si los **mares estÃ¡n vacÃ­os** como el TriÃ¡ngulo de las Bermudas, el nuevo pirata se convierte en el **CapitÃ¡n de la Isla Principal** ğŸ‘‘
- Si ya hay una flota establecida, se inicia la **NavegaciÃ³n Recursiva** para encontrar el puerto perfecto

### *La NavegaciÃ³n Recursiva: El Arte de Surcar los Mares Infinitos*

```python
def _insert_recursive(self, node, value):
    if value < node.value:
        if node.left is None:
            node.left = TreeNode(value)  # â¬…ï¸ Anclaje en la Isla de los Menores
        else:
            self._insert_recursive(node.left, value)  # ğŸŒŠ NavegaciÃ³n hacia babor
    else:
        if node.right is None:
            node.right = TreeNode(value)  # â¡ï¸ Desembarco en la BahÃ­a de los Mayores
        else:
            self._insert_recursive(node.right, value)  # â›µ NavegaciÃ³n hacia estribor
```

ğŸŒŠ **El Arte de la NavegaciÃ³n Recursiva**: Esta tÃ©cnica permite que el barco:
- **Divida** el ocÃ©ano en rutas mÃ¡s pequeÃ±as
- **Conquiste** cada isla por separado
- **Combine** todos los territorios en un imperio pirata perfecto

---

## ğŸ—ºï¸ CAPÃTULO IV: LA CONSTRUCCIÃ“N DEL IMPERIO DESDE LA NADA ğŸ—ºï¸

### *El Gran Reclutamiento Masivo*

```python
def build_from_list(self, values):
    for value in values:
        self.insert(value)  # ğŸ´â€â˜ ï¸ Cada valor se convierte en un nuevo corsario
```

âš“ **El Gran Plan**: Este ritual toma una **tripulaciÃ³n desordenada** de valores y los **entrena uno por uno** como corsarios disciplinados, creando un **imperio pirata perfectamente organizado** desde el caos mÃ¡s absoluto.

---

## ğŸ’° CAPÃTULO V: LA BÃšSQUEDA DEL TESORO EN EL RANGO DORADO ğŸ’°

### *La MisiÃ³n Suprema: La Caza del Tesoro por Rango*

Llega el momento de la **Gran ExpediciÃ³n**, la misiÃ³n mÃ¡s peligrosa que todo pirata sueÃ±a:

```python
def range_query(self, min_val, max_val):
    """ğŸ’° La expediciÃ³n que encuentra todos los tesoros en el rango dorado"""
    treasure_chest = []  # ğŸ´â€â˜ ï¸ El cofre donde guardaremos todo el botÃ­n
    
    def navigate_islands(current_pirate):
        if not current_pirate:
            return  # ğŸŒŠ Si llegamos a aguas vacÃ­as, regresamos al barco
        
        # â¬…ï¸ Solo exploramos la Isla de los Menores si puede haber tesoros
        if current_pirate.value > min_val:
            navigate_islands(current_pirate.left)
        
        # ğŸ’ Si el tesoro del pirata actual estÃ¡ en nuestro rango, lo saqueamos
        if min_val <= current_pirate.value <= max_val:
            treasure_chest.append(current_pirate.value)
        
        # â¡ï¸ Solo navegamos a la BahÃ­a de los Mayores si vale la pena
        if current_pirate.value < max_val:
            navigate_islands(current_pirate.right)
    
    navigate_islands(self.root)  # ğŸŒ´ Comenzamos desde la Isla Principal
    return treasure_chest  # ğŸ´â€â˜ ï¸ Entregamos todo el botÃ­n saqueado
```

ğŸ´â€â˜ ï¸ **Las Tres Reglas de Oro del Saqueo**:

1. **â¬…ï¸ ExploraciÃ³n Inteligente de Babor**: Solo navega hacia la Isla de los Menores si `pirate.value > min_val`
2. **ğŸ’° Saqueo Selectivo**: Solo roba tesoros que cumplan `min_val â‰¤ treasure â‰¤ max_val`
3. **â¡ï¸ ExpediciÃ³n Sabia a Estribor**: Solo surca hacia la BahÃ­a de los Mayores si `pirate.value < max_val`

âš”ï¸ **El Secreto del Saqueo Perfecto**: Esta tÃ¡ctica usa el **Recorrido de Islas Ordenado**, una tÃ©cnica legendaria que visita a cada pirata en **orden ascendente de riqueza**, aprovechando la organizaciÃ³n natural del imperio para **evitar expediciones innecesarias** y encontrar tesoros con la eficiencia de un corsario veterano.

---

## ğŸ§­ CAPÃTULO VI: LAS CINCO EXPEDICIONES LEGENDARIAS ğŸ§­

### *Las Misiones que Probaron el Valor de la Flota*

```python
def test_range_query():
    # ğŸ´â€â˜ ï¸ ExpediciÃ³n 1: El ArchipiÃ©lago de los Siete Corsarios
    fleet1 = BinarySearchTree()
    fleet1.build_from_list([7, 3, 11, 1, 5, 9, 13])
    print("âš”ï¸ ExpediciÃ³n 1:", fleet1.range_query(5, 10) == [5, 7, 9])  # âœ… BotÃ­n: [5, 7, 9]
    
    # ğŸ´â€â˜ ï¸ ExpediciÃ³n 2: Las Cuatro Islas del Tesoro Completo
    fleet2 = BinarySearchTree()
    fleet2.build_from_list([6, 4, 8, 2])
    print("âš”ï¸ ExpediciÃ³n 2:", fleet2.range_query(1, 10) == [2, 4, 6, 8])  # ğŸŒŠ BotÃ­n: [2, 4, 6, 8]
    
    # ğŸ´â€â˜ ï¸ ExpediciÃ³n 3: El Mar de los Tesoros Inalcanzables
    fleet3 = BinarySearchTree()
    fleet3.build_from_list([20, 10, 30])
    print("âš”ï¸ ExpediciÃ³n 3:", fleet3.range_query(1, 5) == [])  # ğŸ’€ BotÃ­n: [] (manos vacÃ­as)
    
    # ğŸ´â€â˜ ï¸ ExpediciÃ³n 4: La Isla del Corsario Solitario
    fleet4 = BinarySearchTree()
    fleet4.build_from_list([15])
    print("âš”ï¸ ExpediciÃ³n 4:", fleet4.range_query(10, 20) == [15])  # ğŸï¸ BotÃ­n: [15]
    
    # ğŸ´â€â˜ ï¸ ExpediciÃ³n 5: El Rango de los LÃ­mites Perfectos
    fleet5 = BinarySearchTree()
    fleet5.build_from_list([15, 10, 20, 5, 25])
    print("âš”ï¸ ExpediciÃ³n 5:", fleet5.range_query(10, 20) == [10, 15, 20])  # âš“ BotÃ­n: [10, 15, 20]
```

---

## ğŸ´â€â˜ ï¸ EPÃLOGO: EL CÃ“DIGO PIRATA REVELADO ğŸ´â€â˜ ï¸

### *Los Secretos del Imperio de los Algoritmos Corsarios*

ğŸ¦œ **Â¡Ahoy, valiente programador!** Has navegado por las aguas mÃ¡s traicioneras del **Mar de los Algoritmos** y has sido testigo de la **Leyenda del Ãrbol del Tesoro Perdido**. PermÃ­teme compartir contigo el **CÃ³digo Pirata** que acabas de descifrar:

#### âš“ **La AnatomÃ­a de la Flota Digital**
- **TreeNode**: Los **Corsarios Inmortales** que protegen cofres dorados con sus vidas
- **BinarySearchTree**: El **CapitÃ¡n Supremo** que mantiene la ley del mar: babor < centro < estribor

#### ğŸŒŠ **El Arte de la NavegaciÃ³n Recursiva**
- Cada inserciÃ³n es una **expediciÃ³n de reconocimiento**
- La recursiÃ³n **surca los mares infinitos**, permitiendo que la flota se divida y conquiste territorio por territorio
- **Velocidad de navegaciÃ³n**: O(log n) en mares calmos, O(n) en la tormenta perfecta

#### ğŸ’° **La ExpediciÃ³n Suprema: Range Query**
- **Recorrido Ordenado de Islas**: Visita corsarios en orden perfecto de riqueza
- **Saqueo Inteligente**: Evita expediciones a islas que no contienen el tesoro buscado
- **Eficiencia corsaria**: O(log n + k) donde k es el nÃºmero de tesoros en el rango

#### âš”ï¸ **Los Tres Pilares del Imperio Pirata**
1. **NavegaciÃ³n Recursiva**: El arte de conquistar ocÃ©anos dividiÃ©ndolos en mares mÃ¡s pequeÃ±os
2. **Estructura Binaria**: La ley universal donde cada decisiÃ³n tiene exactamente dos rutas
3. **Orden Natural**: El cÃ³digo de honor que mantiene la flota en perfecta disciplina

### ğŸ—ºï¸ **La ProfecÃ­a del Ãšltimo Tesoro**

*"Cuando los datos se vuelvan caÃ³ticos como una tormenta en alta mar y los algoritmos parezcan tan imposibles como encontrar el Kraken, recuerda la leyenda del Ãrbol del Tesoro Perdido. Porque en su estructura simple yace el poder de organizar flotas enteras, y en su navegaciÃ³n recursiva habita la sabidurÃ­a de conquistar lo imposible dividiendo el ocÃ©ano en sus islas mÃ¡s pequeÃ±as."*

**Â¡Que los vientos digitales llenen tus velas, intrÃ©pido corsario del cÃ³digo!** ğŸ´â€â˜ ï¸âš“ğŸ¦œ

---

*Fin de la Leyenda*

**ğŸ´â€â˜ ï¸ Moral de la aventura**: Los Binary Search Trees no son solo estructuras de datos, son **imperios corsarios perfectamente organizados** que nos enseÃ±an que la complejidad se conquista con **expediciones inteligentes** y **navegaciÃ³n recursiva**. Â¡Cada lÃ­nea de cÃ³digo es una orden del capitÃ¡n que moldea el destino de la flota digital! âš”ï¸ğŸ’°

**Â¡Arrr! Â¡Que comience la siguiente expediciÃ³n!** ğŸ¦œâœ¨